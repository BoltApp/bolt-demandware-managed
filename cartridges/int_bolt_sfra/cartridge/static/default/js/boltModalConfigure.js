!function(I){var g={};function t(n){if(g[n])return g[n].exports;var C=g[n]={i:n,l:!1,exports:{}};return I[n].call(C.exports,C,C.exports,t),C.l=!0,C.exports}t.m=I,t.c=g,t.d=function(I,g,n){t.o(I,g)||Object.defineProperty(I,g,{enumerable:!0,get:n})},t.r=function(I){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},t.t=function(I,g){if(1&g&&(I=t(I)),8&g)return I;if(4&g&&"object"==typeof I&&I&&I.__esModule)return I;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:I}),2&g&&"string"!=typeof I)for(var C in I)t.d(n,C,function(g){return I[g]}.bind(null,C));return n},t.n=function(I){var g=I&&I.__esModule?function(){return I.default}:function(){return I};return t.d(g,"a",g),g},t.o=function(I,g){return Object.prototype.hasOwnProperty.call(I,g)},t.p="",t(t.s=0)}([function(module,exports,__webpack_require__){"use strict";eval("\n\n$(document).ready(function () {\n    // repeat until Bolt button is created\n    var boltButtonExist = setInterval(function () {\n        var checkoutBoltButton = $('[data-tid=\"instant-bolt-checkout-button\"]'); // @ts-ignore\n\n        if (checkoutBoltButton && window.BoltCheckout && checkoutBoltButton.children()[0].nodeName === 'svg') {\n            // have to check if child of this dom is svg, otherwise bolt button is not fully rendered (it's the object)\n            clearInterval(boltButtonExist);\n            // This is a temp hack to make sure default event handler that opens modal doesn't work since we open it here\n            // (line 33) We need to open it here instead of relying on default button event handler since user can close\n            // the modal, update cart and reopen it. The second time user opens the cart will use the previous\n            // Bolt order token since configure (line 32) is not guaranteed to run before modal opens\n\n            $('[data-tid=\"instant-bolt-checkout-button\"]').children().replaceWith($('[data-tid=\"instant-bolt-checkout-button\"]').children().clone());\n            var createBoltOrderUrl = $('.create-bolt-order-url').val();\n\n            // add an event handler to Bolt button's click\n            checkoutBoltButton.click(function () {\n                // call backend to create cart in Bolt\n                $.ajax({\n                    url: createBoltOrderUrl,\n                    method: 'GET',\n                    success: function success(data) {\n                        if (data !== null) {\n                            // use the response from backend to configure Bolt connect\n                            var cart = {\n                                id: data.basketID\n                            };\n\n                            var boltButtonApp = BoltCheckout.configure(cart, data.hints, null); // eslint-disable-line no-undef\n                            boltButtonApp.open();\n                        }\n                    }\n                });\n            });\n        }\n    }, 100);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jYXJ0cmlkZ2VzL2ludF9ib2x0X3NmcmEvY2FydHJpZGdlL2NsaWVudC9kZWZhdWx0L2pzL2JvbHRNb2RhbENvbmZpZ3VyZS5qcz9jOGJkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRjs7QUFFaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsK0ZBQStGO0FBQy9GO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0wsQ0FBQyIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgLy8gcmVwZWF0IHVudGlsIEJvbHQgYnV0dG9uIGlzIGNyZWF0ZWRcbiAgICB2YXIgYm9sdEJ1dHRvbkV4aXN0ID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hlY2tvdXRCb2x0QnV0dG9uID0gJCgnW2RhdGEtdGlkPVwiaW5zdGFudC1ib2x0LWNoZWNrb3V0LWJ1dHRvblwiXScpOyAvLyBAdHMtaWdub3JlXG5cbiAgICAgICAgaWYgKGNoZWNrb3V0Qm9sdEJ1dHRvbiAmJiB3aW5kb3cuQm9sdENoZWNrb3V0ICYmIGNoZWNrb3V0Qm9sdEJ1dHRvbi5jaGlsZHJlbigpWzBdLm5vZGVOYW1lID09PSAnc3ZnJykge1xuICAgICAgICAgICAgLy8gaGF2ZSB0byBjaGVjayBpZiBjaGlsZCBvZiB0aGlzIGRvbSBpcyBzdmcsIG90aGVyd2lzZSBib2x0IGJ1dHRvbiBpcyBub3QgZnVsbHkgcmVuZGVyZWQgKGl0J3MgdGhlIG9iamVjdClcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoYm9sdEJ1dHRvbkV4aXN0KTtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSB0ZW1wIGhhY2sgdG8gbWFrZSBzdXJlIGRlZmF1bHQgZXZlbnQgaGFuZGxlciB0aGF0IG9wZW5zIG1vZGFsIGRvZXNuJ3Qgd29yayBzaW5jZSB3ZSBvcGVuIGl0IGhlcmVcbiAgICAgICAgICAgIC8vIChsaW5lIDMzKSBXZSBuZWVkIHRvIG9wZW4gaXQgaGVyZSBpbnN0ZWFkIG9mIHJlbHlpbmcgb24gZGVmYXVsdCBidXR0b24gZXZlbnQgaGFuZGxlciBzaW5jZSB1c2VyIGNhbiBjbG9zZVxuICAgICAgICAgICAgLy8gdGhlIG1vZGFsLCB1cGRhdGUgY2FydCBhbmQgcmVvcGVuIGl0LiBUaGUgc2Vjb25kIHRpbWUgdXNlciBvcGVucyB0aGUgY2FydCB3aWxsIHVzZSB0aGUgcHJldmlvdXNcbiAgICAgICAgICAgIC8vIEJvbHQgb3JkZXIgdG9rZW4gc2luY2UgY29uZmlndXJlIChsaW5lIDMyKSBpcyBub3QgZ3VhcmFudGVlZCB0byBydW4gYmVmb3JlIG1vZGFsIG9wZW5zXG5cbiAgICAgICAgICAgICQoJ1tkYXRhLXRpZD1cImluc3RhbnQtYm9sdC1jaGVja291dC1idXR0b25cIl0nKS5jaGlsZHJlbigpLnJlcGxhY2VXaXRoKCQoJ1tkYXRhLXRpZD1cImluc3RhbnQtYm9sdC1jaGVja291dC1idXR0b25cIl0nKS5jaGlsZHJlbigpLmNsb25lKCkpO1xuICAgICAgICAgICAgdmFyIGNyZWF0ZUJvbHRPcmRlclVybCA9ICQoJy5jcmVhdGUtYm9sdC1vcmRlci11cmwnKS52YWwoKTtcblxuICAgICAgICAgICAgLy8gYWRkIGFuIGV2ZW50IGhhbmRsZXIgdG8gQm9sdCBidXR0b24ncyBjbGlja1xuICAgICAgICAgICAgY2hlY2tvdXRCb2x0QnV0dG9uLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBjYWxsIGJhY2tlbmQgdG8gY3JlYXRlIGNhcnQgaW4gQm9sdFxuICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogY3JlYXRlQm9sdE9yZGVyVXJsLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXNlIHRoZSByZXNwb25zZSBmcm9tIGJhY2tlbmQgdG8gY29uZmlndXJlIEJvbHQgY29ubmVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYXJ0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogZGF0YS5iYXNrZXRJRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYm9sdEJ1dHRvbkFwcCA9IEJvbHRDaGVja291dC5jb25maWd1cmUoY2FydCwgZGF0YS5oaW50cywgbnVsbCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2x0QnV0dG9uQXBwLm9wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCAxMDApO1xufSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")}]);