!function(g){var I={};function t(n){if(I[n])return I[n].exports;var e=I[n]={i:n,l:!1,exports:{}};return g[n].call(e.exports,e,e.exports,t),e.l=!0,e.exports}t.m=g,t.c=I,t.d=function(g,I,n){t.o(g,I)||Object.defineProperty(g,I,{enumerable:!0,get:n})},t.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},t.t=function(g,I){if(1&I&&(g=t(g)),8&I)return g;if(4&I&&"object"==typeof g&&g&&g.__esModule)return g;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:g}),2&I&&"string"!=typeof g)for(var e in g)t.d(n,e,function(I){return g[I]}.bind(null,e));return n},t.n=function(g){var I=g&&g.__esModule?function(){return g.default}:function(){return g};return t.d(I,"a",I),I},t.o=function(g,I){return Object.prototype.hasOwnProperty.call(g,I)},t.p="",t(t.s=0)}([function(module,exports,__webpack_require__){"use strict";eval("\n\n$(document).ready(function () {\n    // repeat until Bolt button is created\n    var boltButtonExist = setInterval(function () {\n        var checkoutBoltButton = $('[data-tid=\"instant-bolt-checkout-button\"]'); // @ts-ignore\n\n        if (checkoutBoltButton) {\n            // have to check if child of this dom is svg, otherwise bolt button is not fully rendered (it's the object)\n            clearInterval(boltButtonExist); // This is a temp hack to make sure default event handler that opens modal doesn't work since we open it here\n            // (line 74) We need to open it here instead of relying on default button event handler since user can close\n            // the modal, update cart and reopen it. The second time user opens the cart will use the previous\n            // Bolt order token since configure (line 73) is not guaranteed to run before modal opens\n\n            $('[data-tid=\"instant-bolt-checkout-button\"]').children().replaceWith($('[data-tid=\"instant-bolt-checkout-button\"]').children().clone());\n            var createBoltOrderUrl = $('.create-bolt-order-url').val(); // add an event handler to Bolt button's click\n\n            checkoutBoltButton.click(function () {\n                // call backend to create cart in Bolt\n                $.ajax({\n                    url: createBoltOrderUrl,\n                    method: 'GET',\n                    success: function success(data) {\n                        if (data !== null) {\n                            // use the response from backend to configure Bolt connect\n                            var cart = {\n                                id: data.basketID\n                            }; // @ts-ignore\n\n                            var boltButtonApp = BoltCheckout.configure(cart, data.hints, null);\n                            boltButtonApp.open();\n                        }\n                    }\n                });\n            });\n        }\n    }, 100);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jYXJ0cmlkZ2VzL2ludF9ib2x0X3YyX3NmcmEvY2FydHJpZGdlL2NsaWVudC9kZWZhdWx0L2pzL2JvbHRNb2RhbENvbmZpZ3VyZS5qcz85OWZkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRjs7QUFFaEY7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1RUFBdUU7O0FBRXZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCOztBQUU5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0wsQ0FBQyIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgLy8gcmVwZWF0IHVudGlsIEJvbHQgYnV0dG9uIGlzIGNyZWF0ZWRcbiAgICB2YXIgYm9sdEJ1dHRvbkV4aXN0ID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hlY2tvdXRCb2x0QnV0dG9uID0gJCgnW2RhdGEtdGlkPVwiaW5zdGFudC1ib2x0LWNoZWNrb3V0LWJ1dHRvblwiXScpOyAvLyBAdHMtaWdub3JlXG5cbiAgICAgICAgaWYgKGNoZWNrb3V0Qm9sdEJ1dHRvbikge1xuICAgICAgICAgICAgLy8gaGF2ZSB0byBjaGVjayBpZiBjaGlsZCBvZiB0aGlzIGRvbSBpcyBzdmcsIG90aGVyd2lzZSBib2x0IGJ1dHRvbiBpcyBub3QgZnVsbHkgcmVuZGVyZWQgKGl0J3MgdGhlIG9iamVjdClcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoYm9sdEJ1dHRvbkV4aXN0KTsgLy8gVGhpcyBpcyBhIHRlbXAgaGFjayB0byBtYWtlIHN1cmUgZGVmYXVsdCBldmVudCBoYW5kbGVyIHRoYXQgb3BlbnMgbW9kYWwgZG9lc24ndCB3b3JrIHNpbmNlIHdlIG9wZW4gaXQgaGVyZVxuICAgICAgICAgICAgLy8gKGxpbmUgNzQpIFdlIG5lZWQgdG8gb3BlbiBpdCBoZXJlIGluc3RlYWQgb2YgcmVseWluZyBvbiBkZWZhdWx0IGJ1dHRvbiBldmVudCBoYW5kbGVyIHNpbmNlIHVzZXIgY2FuIGNsb3NlXG4gICAgICAgICAgICAvLyB0aGUgbW9kYWwsIHVwZGF0ZSBjYXJ0IGFuZCByZW9wZW4gaXQuIFRoZSBzZWNvbmQgdGltZSB1c2VyIG9wZW5zIHRoZSBjYXJ0IHdpbGwgdXNlIHRoZSBwcmV2aW91c1xuICAgICAgICAgICAgLy8gQm9sdCBvcmRlciB0b2tlbiBzaW5jZSBjb25maWd1cmUgKGxpbmUgNzMpIGlzIG5vdCBndWFyYW50ZWVkIHRvIHJ1biBiZWZvcmUgbW9kYWwgb3BlbnNcblxuICAgICAgICAgICAgJCgnW2RhdGEtdGlkPVwiaW5zdGFudC1ib2x0LWNoZWNrb3V0LWJ1dHRvblwiXScpLmNoaWxkcmVuKCkucmVwbGFjZVdpdGgoJCgnW2RhdGEtdGlkPVwiaW5zdGFudC1ib2x0LWNoZWNrb3V0LWJ1dHRvblwiXScpLmNoaWxkcmVuKCkuY2xvbmUoKSk7XG4gICAgICAgICAgICB2YXIgY3JlYXRlQm9sdE9yZGVyVXJsID0gJCgnLmNyZWF0ZS1ib2x0LW9yZGVyLXVybCcpLnZhbCgpOyAvLyBhZGQgYW4gZXZlbnQgaGFuZGxlciB0byBCb2x0IGJ1dHRvbidzIGNsaWNrXG5cbiAgICAgICAgICAgIGNoZWNrb3V0Qm9sdEJ1dHRvbi5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gY2FsbCBiYWNrZW5kIHRvIGNyZWF0ZSBjYXJ0IGluIEJvbHRcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IGNyZWF0ZUJvbHRPcmRlclVybCxcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVzZSB0aGUgcmVzcG9uc2UgZnJvbSBiYWNrZW5kIHRvIGNvbmZpZ3VyZSBCb2x0IGNvbm5lY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FydCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGRhdGEuYmFza2V0SURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OyAvLyBAdHMtaWdub3JlXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYm9sdEJ1dHRvbkFwcCA9IEJvbHRDaGVja291dC5jb25maWd1cmUoY2FydCwgZGF0YS5oaW50cywgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9sdEJ1dHRvbkFwcC5vcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwgMTAwKTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")}]);